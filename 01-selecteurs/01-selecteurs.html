<!doctype html>
<html lang="fr">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

        <title>Cours JQuery</title>

        <!-- jquery en local version complète -->
        <script src="jQuery/jQuery-3.5.1.js"></script>

        <!-- <style>
            figcaption {
                width: 96%;
            }
        </style> -->
    </head>

    <body class="bg-secondary">

        <!-- navbar -->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-info">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Navbar</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Link</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Dropdown</a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <br>

        <main class="container bg-white p-4">       
            <header class="jumbotron bg-light">
            <h1 class="display-1 text-center">Cours JQuery - Sélecteurs</h1>
            <p class="lead"></p>  
            <p></p> 
            <!-- jumbotron / container / row/ col -->
            </header> 

            <div class="row">
                <div class="col-md-6">
                    <h2 class="text-center">jQuery est une API</h2>
                    <p class="lead">jQuery est ce qu'on appelle une bibliothèque ou une API (application programming interface) Javascript, c'est à dire un ensemble de fonctions qui permettent d'écrire de manière condensée, les lignes de codes les plus utilisées en Javascript.</p>
                    <p>La version 1.0 stable de JQuery a été crée en aout 2006 par un jeune homme de 22 ans du nom de John RESIG. Aujourd'hui nous en sommes à : jQuery JavaScript Library v3.5.1</p>
                    <p><a href="https://jquery.com/">Le site de jQuery</a></p>
                    <p>Quel est l'avenir de jQuery ?   <a href="https://hub.packtpub.com/bootstrap-5-to-replace-jquery-with-vanilla-javascript/#:~:text=The%20upcoming%20major%20version%20of,be%20replaced%20with%20vanilla%20JavaScript.&text=For%20example%2C%20last%20year%2C%20GitHub,losing%20its%20relevancy%20over%20time">lire un peu plus</a> </p>
                </div><!-- fin col -->
                <div class="col-md-6">
                    <h3>JQuery écrit d'une manière plus condensée</h3>
			        <p>Nous allons souvent utiliser les fonctions Javascript qui permettent d'attraper les balises HTML et les animer, ainsi en Javascript nous allons écrire d'une certaine manière et en JQuery d'une manière plus condensée.</p>
			        <p class="bg-light p-2"> Une vingtaine de lignes de code en JavaScript correspond à quelques lignes seulement en jQuery. D'où le slogan : "Write less… Do more".</p>
                </div><!-- fin col -->

                <div class="col-md-12 border border-warning p-1">
                    <h3>Exemple</h3>
                    <ul>
                        <li> <strong class="bg-dark"> JavaScript</strong> : <code>document.getElementByTagName('p')[0].innerHTML = 'Je change le texte du premier p de la page avec JS.';</code></li>
                        <li><strong class="bg-dark"> jQuery</strong> : <code>$('p:first').text('Je change le texte du premier p de la page avec jQuery');</code></li>
                    </ul>
                </div> <!--fin col-->

            </div><!-- fin row -->

            <div class="row justify-content-center">
                <div class="col-md-6 ">
                    <figure class="container">
                        <img src="../img/chat.jpg" alt="Un chat blanc tout doux" class="img-fluid border border-solid">
                        <figcaption class="col-md-12 text-center">.........</figcaption>
                    </figure>
                </div>
            </div>  <!--fin col-->

            <div class="row">
                
                <div class="col-md-12">
                    <h3>Il existe trois manières, de plus en plus simples, d'appeler JQuery</h3>
                </div><!-- fin col -->
                <div class="col-md-4"><code>
                    &lt;script><br>
                    jQuery(document).ready(function(){<br>
                    // code <br>
                    });
                    &lt;/script></code>
                </div><!-- fin col -->
                <div class="col-md-4"><code>&lt;script><br>
                    jQuery(function(){<br>
                    // code<br>
                    });
                    &lt;/script></code>
                </div><!-- fin col -->
                <div class="col-md-4"><code>&lt;script><br>
                    $(function(){<br>
                    //ici j'intègrerai du code jQuery<br>
                    });
                    &lt;/script></code>
                </div><!-- fin col -->
            </div>
            <br>
            <h2>Comment sélectionner des éléments ?</h2>
            <div class="container row">
                <div class="row col-md-7">
                    
                    <ul>
                        <li><code>$('p');</code> // Je sélectionne tous les paragraphes</li>
                        <li><code>$('p:first');</code>// Je sélectionne le 1er p trouvé</li>
                        <li><code>$('p:last');</code>// Je sélectionne le dernier p trouvé</li>
                        <li><code>$('p[unP]');</code>// Je sélectionne un p avec l'identifiant #unP</li>
                        <li><code>$('p:eq(1)');</code>// Je sélectionne le deuxième paragraphe trouvé</li>
                        <li><code>$('p:not(.rouge)');</code>// Je sélectionne tous les p sauf ceux qui ont la classe .rouge</li>
                        <li><code>$('.une-rouge');</code>// Je sélectionne tous les paragraphes ayant la classe .une-classe</li>
                        <li><code>$('#monId');</code>// Je sélectionne un p avec l'identifiant #monId pour id</li>
                        <li><code>$('p .unLine');</code>// Je sélectionne tous les éléments ayant la classe .unLine et descendant directement du p</li>
                        <li><code>$('p > .unLien');</code>// Je sélectionne seulement les éléments ayant la classe .unLien et descendants directement du p</li>
                        <li><code>$('.unLien + .visite');</code>// Je sélectionne les éléments ayant pour classe .visite précédés immédiatement d'un élément ayant pour classe .unLien</li>
                        <li><code>$('.unLien ~ .visite');</code>// Je sélectionne les éléments ayant pour classe .visite et précédés ou pas d'un élément ayant pour classe .unLien</li>
                        <li>etc.</li>
                        <li><a href="http://creersonsiteweb.net/page-jquery-selecteurs">Voir la liste complète </a> </li>
                        <li><a href="https://htmlcheatsheet.com/jquery/">Voir la liste complète bis</a> </li>
                    </ul>
                </div>
                
                <div class="border border-warning p-2 col-md-5">
                    <ul>
                        <li>sa balise : $("h4")</li>
                        <li>son #id : $("#mon_id")</li>
                        <li> sa .class : $(".ma_class")</li>
                        <li>par lui-même : $(this)</li>
                        <li>par le type : $("input:text")</li>
                        <li>tous les types : $(":radio")</li>
                        <li>par l'attribut : $("img[alt]")</li>
                        <li>tous les attributs : $("[alt]")</li>
                        <li>par le nom de l'attribut ET sa valeur : $("img[title="un chaton"])</li>
                        <li>sélectionner plusieurs sélecteurs en même temps : $("h1, p, #monID")</li>
                    </ul>
                </div>
            </div>

        </main>  <!--fin de main-->

   <!-- Optional JavaScript; choose one of the two! -->
   <!-- script pour jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->



    <!-- mes scripts JS -->
        <script>
            // let lesP = document.getElementsByTagName('p');
            // console.log(lesP);

            // let enJS = document.getElementsByTagName('p')[0].innerHTML = "Write less, do more... écrit en JS";

            // 1 - un 1er exemple
            $('p:first').text('Je change le texte du premier p de la page avec jQuery');

            $('p:first').next().text('Je change le texte du second p de la page jumbotron avec jQuery');
            // *******************************************************************************

            // 2 -  un 2nd exemple , selection avec jQuery
            console.log(document.getElementsByTagName('h1'));
            console.log(document.querySelector('h1'));
            console.log(document.querySelector('h1').innerHTML);
            console.log('---------------------');
            // la meme chose en jQuery
            console.log($('h1')[0].innerHTML);
            console.log('---------------------');
            // *******************************************************************************

            // 3 - fonction $() et méthodes eq(), html()
            // a- la fonction query $() est l'équivalent d'un document.querySelectorAll()
            // b- La méthode eq() permet de sélectionner en Jquery un indice ou une collection d'objets
            // c- La méthode html() remplace innerHTML pour récupérer ou redéfinir un contenu de balise

            console.log($('p').eq(3).html());

            // mini exo :  changer le contenu du h1 et faire un lien vers le site jQuery
            $('h1').text('Je change le texte du h1 de la page avec jQuery');
            //  ou
            $('h1').eq(0).text('Cours jQuery - Sélecteurs (titre fait en jQuery)');

            // changer le premier p en lien vers le site jQuery
            $('p:first').html('<a href="http://www.jquery.com">Write less.... do more</a>');
            // ou
            $('p').eq(0).html('<a href="http://www.jquery.com">Write less.... do more</a>')

            console.log('---------------------');

            // e- on peut aussi tout changer !!!
            // $('p').html('Paragraphe');

            // f- on peut bien sur passer tout cela dans des variables
            let unP = $('p').eq(4).html();
            console.log(unP);

            console.log('---------------------');
            // *******************************************************************************

            // 4 - La méthode CSS()
            //  La méthode css() applique des changements css en remplacement de .style, pour tous les p
            $('p').css("color", "purple");

            // on va plutôt écrire cela ainsi pour changer le 3eme p
            $('p').eq(2).css({
                'color': 'red',
                'padding' : '5px',
                'border' : '1px blue solid', //cette virgule n'est pas obligatoire
            })
            console.log('---------------------');

            // sélectionner toutes les div et leur donner une bordure
            // $('div').css({
            //     'border' : '1px solid pink'
            // })

            // sélectionner tous les éléments qui ont une classe
            console.log($('.lead'));
            $('.lead').css({
                'background-color' : 'lightblue',
                'color' : 'white',
                'margin-right' : '10px',
                'margin-left' : '10px'
            });
            // *******************************************************************************
            // 5 - append() et prepend()

            // ajouter avant le contenu avec prepend()
            $('p').eq(2).prepend('<div class="text-center text-white"><span class="bg-info">Coucou !  </span></div>');

            // ajouter après le contenu avec append()
            $('p').eq(2).append('<div class="text-center"><span class="bg-secondary text-white">Coucou !  </span></div>');

            // sélectionner plusieurs éléments
            console.log($('h1, h2, p'));

            $('h1, h2, h3').prepend(' * ');

            // *******************************************************************************

            // 6 - Manipulation de classes avec addClass(), removeClass(), toggleClass(), hasClass()

            // addClass()
            console.log($('span'));
            $('span').eq(2).addClass('bg-dark');

            // removeClass()
            console.log($('.lead'));
            $('.lead').eq(1).removeClass('lead');

            // hasClass()
            // toggleClass()
            // *******************************************************************************

            // 7 - Manipulation d'attributs attr(), et removeAttr()
            // attr() ajout d'un attribut

            $('h1').eq(0).attr('title', 'Le jQuery c\'est plus simple');

            // removeAttr()
            console.log($('strong'));
            $('strong:eq(0), strong:eq(1)').removeAttr('class');

            // *******************************************************************************

            // 8 - Manipulation des parents et des enfants
            $('figure').find('img').attr('title', 'Un petit chat blanc tout doux');

            // mini-exo : récupérer l'attribut alt de img dans une variable lAlt
            var leAlt = $('figure').find('img').attr('alt');

            // puis voir son type et son contenu dans un console.log
            console.log(leAlt);
            console.log(typeof leAlt);

            // puis demander à jQuery d'afficher le contenu de la varibale leAlt dans figcaption
            $('figcaption').text(leAlt);
            // ou
            $('figure').find('figcaption').text(leAlt).css({
                'color' : 'white',
                'background-color' : 'pink'
            });






        </script>

    </body>
</html>
